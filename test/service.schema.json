{
  "name": "Math",
  "description": "Mathematics service",
  "methods": {
    "NotificationCreate": {
      "options": {},
      "action": "NotificationCreate",
      "description": "Создание Notification",
      "request": {
        "$ref": "MathAdditional.json#/properties/Notification"
      },
      "response": {
        "allOf": [
          {
            "$ref": "MathAdditional.json#/properties/Notification"
          },
          {
            "$ref": "MathAdditional.json#/properties/BaseEntityFields"
          }
        ]
      }
    },
    "GetNotificationById": {
      "options": {},
      "action": "GetNotificationById",
      "description": "Получение Notification",
      "request": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Идентификатор",
            "minLength": 1,
            "maxLength": 255
          }
        },
        "required": [
          "id"
        ]
      },
      "response": {
        "type": "object",
        "properties": {
          "data": {
            "allOf": [
              {
                "$ref": "MathAdditional.json#/properties/Notification"
              },
              {
                "$ref": "MathAdditional.json#/properties/BaseEntityFields"
              }
            ]
          },
          "errors": {
            "$ref": "MathAdditional.json#/properties/ErrorResponse"
          }
        }
      }
    }
  },
  "Ref": {
    "$id": "MathAdditional.json",
    "type": "object",
    "properties": {
      "Notification": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Заголовок уведомления"
          },
          "description": {
            "type": "string",
            "description": "Описание уведомления"
          },
          "deeplink": {
            "type": "string",
            "description": "URL для диплинков"
          },
          "topic": {
            "type": "string",
            "enum": [
              "general",
              "direct"
            ],
            "description": "Тип уведомления general - всем, direct конкретным пользователям, нужно передать id пользователей"
          },
          "fcm": {
            "type": "array",
            "description": "Fcm пользователей, для которых это уведомление. Если пустой, то для всех",
            "items": {
              "type": "string"
            }
          },
          "userIds": {
            "type": "array",
            "description": "ID пользователей, для которых это уведомление. Если пустой, то для всех",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "title",
          "description",
          "topic"
        ]
      },
      "ErrorResponse": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 8,
              "maxLength": 255
            },
            "message": {
              "type": "string",
              "minLength": 8,
              "maxLength": 255
            },
            "statusCode": {
              "type": "number",
              "description": "HTTP код ошибки",
              "minimum": 100,
              "maximum": 511
            }
          },
          "required": [
            "message"
          ]
        }
      },
      "pagination": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "description": "Номер страницы"
          },
          "size": {
            "type": "integer",
            "minimum": 1,
            "description": "Размер страницы"
          },
          "total": {
            "type": "integer",
            "description": "Количество сущностей"
          }
        },
        "required": [
          "page",
          "size",
          "total"
        ]
      },
      "PaginationMeta": {
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "minimum": 1,
            "description": "Номер страницы"
          },
          "size": {
            "type": "integer",
            "minimum": 1,
            "description": "Размер страницы"
          },
          "total": {
            "type": "integer",
            "description": "Количество сущностей"
          }
        },
        "required": [
          "page",
          "size",
          "total"
        ]
      },
      "BaseEntityFields": {
        "type": "object",
        "properties": {
          "created": {
            "type": "string",
            "format": "date-time",
            "description": "Дата создания"
          },
          "updated": {
            "type": "string",
            "format": "date-time",
            "description": "Дата обновления"
          },
          "id": {
            "type": "string",
            "format": "uuid"
          }
        },
        "required": [
          "updated",
          "created",
          "id"
        ]
      }
    }
  }
}